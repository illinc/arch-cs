% \tikzstyle{blockarrow}	= [-latex',thick,draw]
\begin{tikzpicture}[
start chain=uvv going right,
start chain=bus_south going right,
% start chain=bus_north going below,
start chain=bus_comment going above,
% every on chain/.style=join,
% every on chain/.style=solidchaincell,
% every join/.style=blockarrow,
node distance=2ex and 2ex,
baseline=(current bounding box.north)
]
\tikzstyle{strokednode}	= [text badly centered, draw=black, thick]
\tikzstyle{block}	= [strokednode, text width=18ex, minimum height=6ex]


\tikzstyle{bus}	= [ultra thick, draw=black!80!green]

\node[block, on chain=uvv] (hdd) {Долговременная память};
\node[block, on chain=uvv] (prn) {Принтер};
\node[block, on chain=uvv] (kbd) {Клавиатура};
\node[block, on chain=uvv] (mon)  {Монитор};
\node[fit=(hdd) (mon), inner sep=0ex] (uvv_box) {};

\node[strokednode, text width=50ex, above=4ex of uvv_box] (uvv_common) {Устройства ввода-вывода};

\foreach \i in {hdd, prn, kbd, mon}
{
  \draw[] (\i.north) -- (uvv_common);
}


\coordinate[on chain=bus_south] (addr_south) at (uvv_common.120);
\coordinate[on chain=bus_south] (data_south);
\coordinate[on chain=bus_south] (ctrl_south);
\coordinate[on chain=bus_south] (power_south);

\tikzstyle{block}	= [strokednode, text width=18ex, minimum height=10ex]

\coordinate[above=12ex of addr_south] (addr_ram);
\node[block, left = 4ex of addr_ram] (ram)  {Оперативная память};

\coordinate[below = of addr_ram] (data_ram);
\coordinate[above = of addr_ram] (ctrl_ram);
\coordinate[above = of ctrl_ram] (power_ram);

\node[strokednode, text width=33ex, text badly ragged, right =4ex of addr_ram-|power_south] (cpu)  {
Центральный процессор
\setlength{\leftmargini}{4ex}
\begin{itemize}
\item регистр команд; 
\item устройство управления;
\item АЛУ;
\item адресный регистр; 
\item указатель команды.
\end{itemize}
};

\tikzstyle{powerline}	= [draw=green]

\foreach \i/\s in {addr/, data/, ctrl/, power/powerline}
{
  \draw[bus, \s] (ram.east|-\i_ram) -- (cpu.west|-\i_ram);
}



\node[block, above = 20ex of ram] (bios)  {Постоянное запоминающее устройство};
\node[block, right =4ex of bios-|power_south] (clock)  {Тактовый генератор};

\coordinate[above = of bios.east-|ctrl_south] (ctrl_north);
\coordinate (data_north) at (bios.east);
\coordinate[below = of data_north] (addr_north);

\coordinate[above = of ctrl_north-|power_south] (power_north);

\foreach \i/\s in {ctrl/, power/powerline}
{
  \draw[bus, \s] (\i_south) -- (\i_north);
  \draw[bus, \s] (bios.east|-\i_north) -- (clock.west|-\i_north);
}

\draw[bus] (data_south) |- (data_north);
\draw[bus] (addr_south) |- (addr_north);


\tikzset{node distance=3ex}
\tikzset{draw=blue,thin}

\coordinate[above =  of cpu.north-|addr_south, on chain=bus_comment] (addr_comment);
\coordinate[on chain=bus_comment] (data_comment);
\coordinate[on chain=bus_comment] (ctrl_comment);
\coordinate[on chain=bus_comment] (power_comment);

\coordinate (end_comment) at (cpu.east);


\foreach \i/\s in {addr/адреса, data/данных, ctrl/управления, power/\vphantom{у}питания}
{
  \draw[draw=blue](\i_comment-|\i_south) -- node[above=-1ex, text=blue, at end, anchor=south east, text badly ragged] {шина \s} (\i_comment-|end_comment);
}

% \draw (bios) -- coordinate () (clock);

\end{tikzpicture}