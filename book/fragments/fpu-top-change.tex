% \scriptsize
\tikzstyle{blockarrow}	= [-latex',draw]
% % \footnotesize
\scriptsize
\singlespacing

% \newcommand{\drawReg}[4][]
%   {
%     \tikzmath{int \sti; \sti=Mod(\i+#2,8);}
%     \node[reg, solidchaincell, minimum width=16ex, on chain=cst#3]  (r#3\i) {};
%     \node[left = of r#3\i]  {$r_\i$};    
%   }



\begin{tikzpicture}[
start chain=cst0 going below,
start chain=cst1 going below,
start chain=cst2 going below,
start chain=cst3 going below,
% every on chain/.style=join,
% every on chain/.style=solidchaincell,
% every join/.style=blockarrow,
node distance=0ex,
x = 20ex,
baseline=(current bounding box.north)
]
\tikzstyle{block}	= [text badly centered, minimum height=2ex, draw=black]

\tikzstyle{reg}	= [block,  fill=colorRegisterLight]
\tikzstyle{bit}	= [reg, minimum width=2ex]

% \tikzstyle{reglabel}	= [block,  draw=none, node distance=0ex and 8ex, text=colorRegister]
\tikzstyle{bitlabel}	= [scale=0.7]


\foreach \ch in {0,...,3}
{
  \coordinate[on chain=cst\ch]  (cc\ch) at (\ch,0);
}

\foreach \ch/\top in {0/0,1/7,2/3,3/2}
{
  \foreach \i in {0,...,7}
  {
    \tikzmath{int \sti; \sti=Mod(\i-\top,8);}
    \node[reg, solidchaincell, on chain=cst\ch]  (r\ch\i) {$st(\sti)$};
    \node[left = of r\ch\i]  {$r_\i$};    
  }
  \coordinate[right = 8ex of r\ch\top] (sttop\ch);
  \path[blockarrow] (sttop\ch)  -- node[midway, above, sloped, bitlabel] {$top=\top$} 
%     node[midway, below, sloped, bitlabel] {$=\top$} 
    (r\ch\top);
}

\foreach \ch/\letter in {0/à,1/á,2/â,3/ã}
{
    \node[on chain=cst\ch]   {\normalfont\letter)};
}
\end{tikzpicture}