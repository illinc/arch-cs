\begin{longtable}{|>{\ttfamily}l|L|} 
\caption{Команды целочисленной арифметики}\label{tab:ar-command-list} \\
\hline
\normalfont\thead{Команда} & \thead{Действие}  %& \thead{Флаги} 
\\\hline
% \multicolumn{2}{|c|}{Если не указано иное, $src$ и~$dest$ "--- регистры или переменные в~памяти}\\\hline
% \multicolumn{2}{|c|}{Если не указано иное, $src$, $dest$ и~$arg$ "--- регистры или переменные в~памяти}\\\hline
\multicolumn{2}{|c|}{\textbf{Сложение и~вычитание}}\\\hline
inc dest & %\lstinline!++!
Инкремент ${+}{+}dest$ ($dest = dest+1$, выполняется быстрее \lstinline!add!)
\\\hline
dec dest & %\lstinline!--!
Декремент ${-}{-}dest$ ($dest = dest-1$, выполняется быстрее \lstinline!sub!)
\\\hline
add src, dest & Сложение $\usecopeq dest += src ~~(dest = dest + src)$
% & 
\\\hline
% adc src, dest & Сложение с~переносом из предыдущей части $\usecopeq dest += src + carry flag ~~\Big(dest = dest + (src + carry flag)\Big)$
adc src, dest & Сложение с~переносом из предыдущей части $\usecopeq dest += src + CF ~~\Big(dest = dest + (src + CF)\Big)$
% & 
\\\hline
sub src, dest & Вычитание $\usecopeq dest -= src ~~(dest = dest - src)$
\\\hline
cmp src, dest & Вычитание $dest - src$ без изменения $dest$ (только %установка флагов)
флаги)
% & 
\\\hline
% sbb src, dest & Вычитание с~переносом из предыдущей части $\usecopeq dest -= src + carry flag ~~\Big(dest = dest - (src + carry flag)\Big)$
sbb src, dest & Вычитание с~переносом из предыдущей части $\usecopeq dest -= src + CF ~~\Big(dest = dest - (src + CF)\Big)$
% & 
\\\hline
% \multicolumn{2}{|c|}{\textbf{Изменение знака}}\\\hline
neg dest & Изменение знака $dest = -dest$
% % 
% % Arithmetically negates the argument (i.e. two's complement negation).
\\\hline
\multicolumn{2}{|c|}{\textbf{Расчёт линейной комбинации}}\\\hline
% \begin{tabular}{@{}l@{}}
% lea\\imm(src1,src2,scale),\\dest 
% \end{tabular}
lea $\delta$(r1,r2,$\gamma$), dreg
& Вычисление эффективного адреса часто используется для~расчёта  линейной комбинации
$dreg = r1 + \gamma\cdot r2 + \delta$ 
% (не изменяет флагов)

$dreg, r1, r2$ "---  регистры, 	$\gamma$ "--- 1, 2, 4 или 8, $\delta$ "--- константа 

\lstinline!lea! не изменяет флагов
\\\hline
\multicolumn{2}{|c|}{\textbf{Умножение и~деление}}\\\hline
mul srm & Беззнаковое умножение $D{:}A = A\cdot srm$
 (таблица~\ref{tab:ar-command-muldiv})
% % В~зависимости от размера $srm$:
% 
% $sizeof(srm) = 4$ байта: $edx:eax = eax\cdot srm$
% 
% 2 байта: $dx:ax := ax\cdot srm$
% 
% 1 байт: $ax := al\cdot srm$ (для восьмибитных множителей~$D$ не используется)
% 
% $srm$ "--- регистр или переменная в~памяти
% & 
\\\hline
imul srm & Знаковое умножение $D{:}A = A\cdot srm$ %, аналогично \lstinline!mul!
 (таблица~\ref{tab:ar-command-muldiv})
% 
% $srm$ "--- регистр или переменная в~памяти
\\\hline
imul srm, dreg & Умножение $\usecopeq dreg *= srm ~~(dreg = dreg\cdot srm)$
\\\hline
imul imm, srm, dreg & Знаковое умножение $dreg = imm\cdot srm$
% 
% ($imm$ "--- константа)
\\\hline

div srm & 
% Беззнаковое деление с~остатком %$A = (D{:}A)/srm$. % или $A/srm$.
\begin{tabular}{@{}l@{}}
Беззнаковое деление с~остатком
\\
 (таблица~\ref{tab:ar-command-muldiv})
\end{tabular}
$\left\{\begin{array}{l}
A = (D{:}A)/srm \\
D = (D{:}A)\%srm \\
\end{array}\right.$
%  (таблица~\ref{tab:ar-command-muldiv})
% В~зависимости от размера $srm$:
% 
% 4 байта: $\left\{\begin{array}{l}
% eax := (edx:eax)/srm \\
% edx := (edx:eax)\%srm \\
% \end{array}\right.$
% 
% 2 байта: $\left\{\begin{array}{l}ax := (dx:ax)/srm\\ dx := (dx:ax)\%srm\end{array}\right.$
% 
% 1 байт: $\left\{\begin{array}{l}al := ax/srm\\ ah := ax\%srm\end{array}\right.$
% 
% $srm$ "--- регистр или переменная в~памяти
\\\hline
idiv srm & %Знаковое деление с~остатком %$D{:}A/srm$, 
\begin{tabular}{@{}l@{}}
Знаковое деление с~остатком
\\
 (таблица~\ref{tab:ar-command-muldiv})
\end{tabular}
$\left\{\begin{array}{l}
A = (D{:}A)/srm \\
D = (D{:}A)\%srm \\
\end{array}\right.$
%  (таблица~\ref{tab:ar-command-muldiv})
% аналогично \lstinline!div!
% 
% $srm$ "--- регистр или переменная в~памяти
\\\hline
% \multicolumn{2}{|c|}{\textbf{Операции расширения}}\\\hline
% movz src, dest & $dest := src$ с~беззнаковым расширением (размер $src$ меньше~$dest$) %($src$ по~размеру меньше~$dest$)
% \\\hline
% movs src, dest & $dest := src$ со знаковым расширением (размер $src$ меньше~$dest$)
% \\\hline
% cStD & Знаковое расширение регистра~$A$ (таблица~\ref{tab:asm-conversion})
% \\\hline
% cdq & Знаковое расширение регистра \EAX{}  в~пару регистров \EDX:\EAX{} (convert double-word to quad-word)
% \\\hline
% cwd & Знаковое расширение регистра \lstinline!AX!  в~пару регистров \lstinline!DX:AX!
% 
% (convert word to double-word)
% \\\hline
% cbw & Знаковое расширение регистра \lstinline!AL!  до \lstinline!AX!
% % 
% (convert byte to word)
% \\\hline
% cwde & Знаковое расширение регистра \lstinline!AX!  до \lstinline!EAX!
% \\\hline
\multicolumn{2}{|c|}{\textbf{Масштабирование (битовый сдвиг)}}\\\hline
shr times, dest & Беззнаковое деление  $\usecopeq {dest}/={2^{times}}$ (остаток не вычисляется)
\\\hline
sar times, dest & Знаковое деление $\usecopeq dest/=2^{times}$ (остаток не вычисляется)
\\\hline
\begin{tabular}{@{}l@{}}
shl times, dest 
\\
sal times, dest
\end{tabular}
& Умножение  $\usecopeq dest *= 2^{times}$ %(если результат умножения помещается в~dest%. Если не помещается, старшая часть теряется
% )
\\\hline

\end{longtable}




